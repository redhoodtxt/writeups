*This lab has a "Check stock" feature that parses XML input and returns any unexpected values in the response.
The lab server is running a (simulated) EC2 metadata endpoint at the default URL, which is `http://169.254.169.254/`. This endpoint can be used to retrieve data about the instance, some of which might be sensitive.
To solve the lab, exploit the XXE vulnerability to perform an SSRF attack that obtains the server's IAM secret access key from the EC2 metadata endpoint.*

Checked stock and viewed the request:
![[Screenshot 2024-05-28 at 10.17.23 AM.png]]
Sent the request to *Repeater* and modified it as such, which gave me the following:
![[Screenshot 2024-05-28 at 10.28.26 AM.png]]
This indicates that there is a directory `latest` at the address. Let's try adding that to the URL:
![[Screenshot 2024-05-28 at 10.30.10 AM.png]]
Repeated again and again until:
![[Screenshot 2024-05-28 at 10.31.48 AM.png]]
This solved the lab!
